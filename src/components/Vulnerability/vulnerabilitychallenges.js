import React, { useState } from "react";
import { Link } from "react-router-dom";
import "./vulnerabilitychallenge.css";

const VulnerabilityChallenges = () => {
  const challenges = [
    {
      id: 1,
      title: "Challenge 1: Buffer Overflow",
      problem: "Fix the buffer overflow vulnerability in this program.",
    },
    {
      id: 2,
      title: "Challenge 2: SQL Injection",
      problem: "Identify and fix the SQL injection vulnerability.",
    },
  ];

  const [selectedChallenge, setSelectedChallenge] = useState(null);

  return (
    <div className="vulnerability-container">
      <h1 className="vulnerability-title">Vulnerability Challenges</h1>

      {/* Dropdown */}

      {/* Display Problem */}
      {selectedChallenge && (
        <div className="challenge-problem">
          <h2>
            {challenges.find((c) => c.id === parseInt(selectedChallenge)).title}
          </h2>
          <p>
            {
              challenges.find((c) => c.id === parseInt(selectedChallenge))
                .problem
            }
          </p>
          <Link
            to={`/vulnerability-challenges/${selectedChallenge}`}
            className="challenge-link"
          >
            Go to Challenge
          </Link>
        </div>
      )}

      {/* Challenge List */}
      <div className="vulnerability-list">
        {challenges.map((challenge) => (
          <Link
            to={`/vulnerability-challenges/${challenge.id}`} // Route for the challenge details
            className="challenge-link"
            key={challenge.id}
          >
            <div className="challenge-card">
              <h2>{challenge.title}</h2>
            </div>
          </Link>
        ))}
      </div>
    </div>
  );
};

export default VulnerabilityChallenges;
